name: ğŸ–¥ï¸ REMOTE DESKTOP SERVICES

on:
  workflow_dispatch:
    inputs:
      os_version:
        description: "ğŸ“€ Select Operating System"
        required: true
        default: "Windows 10 Professional (Docker - 4vCPU | 8GB RAM)"
        type: choice
        options:
          - "Windows 10 Professional (Docker - 4vCPU | 8GB RAM)"

permissions:
  contents: read

jobs:
  # ==================== JOB 0: DOWNLOAD ONCE -> UPLOAD ARTIFACT ====================
  prepare-oem-binaries:
    name: "ğŸ“¦ Prepare OEM binaries"
    runs-on: ubuntu-latest
    permissions:
      contents: read
      actions: write
    steps:
      - name: ğŸ“¥ Downloading required binaries
        run: |
          set -euxo pipefail
          mkdir -p oem

          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ğŸ“¥ Downloading Cloudflare WARP..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          WARP_URL="https://downloads.cloudflareclient.com/v1/download/windows/ga"
          curl -L --retry 10 --retry-all-errors --retry-delay 2 \
            -o oem/Cloudflare_WARP_Installer.bin "$WARP_URL"
          echo "âœ… WARP downloaded successfully"

          echo ""
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ğŸ“¥ Downloading Chromium..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          APP2_URL="https://github.com/bodoithienha2026/FreeRDPC/releases/download/assets-v1/chromium.exe"
          curl -L --retry 10 --retry-all-errors --retry-delay 2 \
            -o oem/chromium.exe "$APP2_URL"
          echo "âœ… Chromium downloaded successfully"

          echo ""
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ğŸ” Verifying file integrity..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          python3 - <<'PY'
          p="oem/chromium.exe"
          with open(p,"rb") as f:
              head=f.read(2)
          assert head == b"MZ", f"BAD download: {p} is not a Windows EXE (got {head!r})"
          print("âœ… chromium.exe verified (valid Windows executable)")
          PY

      - name: ğŸ“¦ Uploading artifact
        uses: actions/upload-artifact@v4
        with:
          name: oem-binaries
          path: oem/
          if-no-files-found: error
          retention-days: 1

  # ==================== JOB 1: WINDOWS DOCKER (10 INSTANCES) ====================
  windows-docker:
    name: "ğŸ–¥ï¸ Windows Instance #${{ matrix.instance }}"
    needs: prepare-oem-binaries
    runs-on: ubuntu-latest
    timeout-minutes: 360

    strategy:
      fail-fast: false
      max-parallel: 10
      matrix:
        instance: [1,2,3,4,5,6,7,8,9,10]

    env:
      INSTANCE: ${{ matrix.instance }}

    steps:
      - name: ğŸ“¦ Downloading shared binaries
        uses: actions/download-artifact@v5
        with:
          name: oem-binaries
          path: oem

      - name: ğŸ”§ Initializing Windows System
        run: |
          set -e
          sudo apt-get update > /dev/null 2>&1

          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘                  ğŸš€ SYSTEM INITIALIZATION                     â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘  Instance Number : #$INSTANCE                                  â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""

          SELECTED_OS="${{ github.event.inputs.os_version }}"

          # Determine Windows Version
          if [[ "$SELECTED_OS" == *"2025"* ]]; then
            VERSION="2025"
            OS_NAME="Windows Server 2025"
          elif [[ "$SELECTED_OS" == *"2022"* ]]; then
            VERSION="2022"
            OS_NAME="Windows Server 2022"
          elif [[ "$SELECTED_OS" == *"2019"* ]]; then
            VERSION="2019"
            OS_NAME="Windows Server 2019"
          elif [[ "$SELECTED_OS" == *"2012"* ]]; then
            VERSION="2012"
            OS_NAME="Windows Server 2012"
          elif [[ "$SELECTED_OS" == *"11"* ]]; then
            VERSION="11"
            OS_NAME="Windows 11 Professional"
          elif [[ "$SELECTED_OS" == *"10"* ]]; then
            VERSION="10"
            OS_NAME="Windows 10 Professional"
          else
            echo "âŒ Unknown OS selection: $SELECTED_OS"
            exit 1
          fi

          echo "OS_NAME=$OS_NAME" >> $GITHUB_ENV

          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ğŸ“ Creating Docker configuration..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

          # docker-compose.yml
          cat > docker-compose.yml <<EOF
          version: "3.9"
          services:
            windows:
              image: dockurr/windows
              container_name: windows_rdp
              privileged: true
              environment:
                VERSION: "$VERSION"
                USERNAME: "Admin"
                PASSWORD: "123456"
                RAM_SIZE: "8G"
                CPU_CORES: "4"
                DISK_SIZE: "60G"
              devices:
                - /dev/kvm
              ports:
                - "3389:3389"
                - "8006:8006"
              volumes:
                - ./oem:/oem
          EOF

          echo "âœ… Configuration created"
          echo "   ğŸ‘¤ Username: Admin"
          echo "   ğŸ” Password: 123456"
          echo "   ğŸ’¾ RAM: 8GB | CPU: 4 cores | Disk: 60GB"
          echo ""

          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ğŸ“ Creating OEM installation scripts..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

          # OEM scripts
          cat > oem/install.bat <<'BAT'
          @echo off
          powershell -NoProfile -ExecutionPolicy Bypass -File "C:\OEM\install.ps1"
          BAT

          cat > oem/install.ps1 <<'PS1'
          $ErrorActionPreference = "Stop"
          function Write-Log($msg) { Write-Host ("[OEM] " + $msg) }

          # (A) DNS 1.1.1.1 / 1.0.0.1
          try {
            Get-NetAdapter |
              Where-Object { $_.Status -eq "Up" -and $_.HardwareInterface } |
              ForEach-Object {
                Set-DnsClientServerAddress -InterfaceIndex $_.ifIndex -ServerAddresses @("1.1.1.1","1.0.0.1")
              }
            Write-Log "DNS set to 1.1.1.1 / 1.0.0.1"
          } catch {
            Write-Log "DNS set failed: $($_.Exception.Message)"
          }

          # (B) Install Cloudflare WARP
          $warpInstaller = Get-ChildItem -Path "C:\OEM" -Filter "Cloudflare_WARP_Installer.*" -ErrorAction SilentlyContinue | Select-Object -First 1
          if ($warpInstaller) {
            Write-Log "Found WARP installer: $($warpInstaller.FullName)"

            $b = Get-Content -Encoding Byte -Path $warpInstaller.FullName -TotalCount 2
            $isExe = ($b.Length -ge 2 -and $b[0] -eq 0x4D -and $b[1] -eq 0x5A)
            if ($isExe) {
              Write-Log "Installing WARP (silent mode)..."
              Start-Process -FilePath $warpInstaller.FullName -ArgumentList "/S" -Wait
            } else {
              Write-Log "Installing WARP via MSI..."
              Start-Process msiexec.exe -ArgumentList "/i `"$($warpInstaller.FullName)`" /qn /norestart" -Wait
            }

            # Find warp-cli
            $warpCli = $null
            for ($i=0; $i -lt 60 -and -not $warpCli; $i++) {
              $cmd = Get-Command "warp-cli.exe" -ErrorAction SilentlyContinue
              if ($cmd) { $warpCli = $cmd.Source; break }
              $guess = "C:\Program Files\Cloudflare\Cloudflare WARP\warp-cli.exe"
              if (Test-Path $guess) { $warpCli = $guess; break }
              Start-Sleep -Seconds 2
            }

            if ($warpCli) {
              Write-Log "Configuring WARP connection..."
              try { & $warpCli registration new | Out-Null } catch {}
              try { & $warpCli connect | Out-Null } catch {}

              # Auto-connect on boot
              try {
                $taskName = "WARP-AutoConnect"
                $taskCmd  = "`"$warpCli`" connect"
                schtasks.exe /Create /F /TN $taskName /SC ONSTART /RU SYSTEM /RL HIGHEST /TR $taskCmd | Out-Null
                Write-Log "Auto-connect task created successfully"
              } catch {
                Write-Log "Create WARP task failed: $($_.Exception.Message)"
              }
            } else {
              Write-Log "warp-cli not found after install"
            }
          } else {
            Write-Log "No WARP installer found (skipping)"
          }

          # (C) Create Desktop shortcut for Chromium
          try {
            $target = "C:\OEM\chromium.exe"
            if (Test-Path $target) {
              $desktop = "C:\Users\Public\Desktop"
              New-Item -ItemType Directory -Force -Path $desktop | Out-Null

              $lnk = Join-Path $desktop "Chromium.lnk"
              $wsh = New-Object -ComObject WScript.Shell
              $sc  = $wsh.CreateShortcut($lnk)
              $sc.TargetPath = $target
              $sc.WorkingDirectory = "C:\OEM"
              $sc.IconLocation = $target
              $sc.Save()

              Write-Log "Desktop shortcut created successfully"
            } else {
              Write-Log "Chromium not found at $target"
            }
          } catch {
            Write-Log "Create shortcut failed: $($_.Exception.Message)"
          }
          PS1

          echo "âœ… OEM scripts created"
          echo ""

          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ğŸ³ Starting Docker container..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          docker compose up -d > /dev/null 2>&1
          echo "âœ… Container started successfully"
          echo ""

          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ğŸŒ Setting up tunnel service..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          wget -q https://github.com/kami2k1/tunnel/releases/latest/download/kami-tunnel-linux-amd64.tar.gz
          tar -xzf kami-tunnel-linux-amd64.tar.gz > /dev/null 2>&1
          chmod +x kami-tunnel

          nohup ./kami-tunnel 3389 > kami_tunnel_rdp.log 2>&1 &
          echo "âœ… RDP Tunnel started (PID: $!)"
          sleep 5
          nohup ./kami-tunnel 8006 > kami_tunnel_web.log 2>&1 &
          echo "âœ… Web Tunnel started (PID: $!)"
          echo ""

      - name: ğŸŒ Connection Information
        run: |
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘              ğŸ”„ ESTABLISHING CONNECTION                       â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘  Instance : #$INSTANCE                                         â•‘"
          echo "â•‘  OS       : $OS_NAME                                           â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""

          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "â³ Waiting for RDP tunnel (Port 3389)..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          RDP_IP=""
          RDP_RETRY=0

          while [ -z "$RDP_IP" ] && [ $RDP_RETRY -lt 60 ]; do
            if [ -f kami_tunnel.txt ]; then
              RDP_CONTENT=$(cat kami_tunnel.txt 2>/dev/null | head -1)
              if [[ "$RDP_CONTENT" =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:[0-9]+$ ]]; then
                RDP_IP="$RDP_CONTENT"
                echo "âœ… RDP tunnel ready: $RDP_IP"
                break
              fi
            fi
            sleep 2
            RDP_RETRY=$((RDP_RETRY + 1))
            if [ $((RDP_RETRY % 10)) -eq 0 ]; then
              echo "   â³ Retry $RDP_RETRY/60..."
            fi
          done

          if [ -z "$RDP_IP" ]; then
            echo "âŒ ERROR: Could not retrieve RDP IP"
            cat kami_tunnel_rdp.log 2>/dev/null || true
            exit 1
          fi

          echo ""
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "â³ Waiting for Web Viewer tunnel (Port 8006)..."
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          sleep 3

          WEB_IP=""
          WEB_RETRY=0

          while [ -z "$WEB_IP" ] && [ $WEB_RETRY -lt 60 ]; do
            if [ -f kami_tunnel.txt ]; then
              WEB_CONTENT=$(cat kami_tunnel.txt 2>/dev/null | tail -1)
              if [[ "$WEB_CONTENT" =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:[0-9]+$ ]] && [ "$WEB_CONTENT" != "$RDP_IP" ]; then
                WEB_IP="$WEB_CONTENT"
                echo "âœ… Web tunnel ready: $WEB_IP"
                break
              fi
            fi
            sleep 2
            WEB_RETRY=$((WEB_RETRY + 1))
            if [ $((WEB_RETRY % 10)) -eq 0 ]; then
              echo "   â³ Retry $WEB_RETRY/60..."
            fi
          done

          if [ -z "$WEB_IP" ]; then
            echo "âš ï¸  Warning: Using fallback Web IP..."
            BASE_IP="${RDP_IP%:*}"
            WEB_IP="${BASE_IP}:8006"
            echo "   ğŸ“ Constructed: $WEB_IP"
          fi

          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘                  âœ… CONNECTION READY                          â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘                                                               â•‘"
          echo "â•‘  ğŸ–¥ï¸  Operating System                                         â•‘"
          echo "â•‘      $OS_NAME                                                  â•‘"
          echo "â•‘                                                               â•‘"
          echo "â•‘  ğŸ§©  Instance Number                                          â•‘"
          echo "â•‘      #$INSTANCE                                                â•‘"
          echo "â•‘                                                               â•‘"
          echo "â•‘  ğŸŒ  RDP Connection                                           â•‘"
          echo "â•‘      $RDP_IP                                                   â•‘"
          echo "â•‘                                                               â•‘"
          echo "â•‘  ğŸŒ  Web Viewer                                               â•‘"
          echo "â•‘      http://$WEB_IP                                            â•‘"
          echo "â•‘                                                               â•‘"
          echo "â•‘  ğŸ‘¤  Username                                                 â•‘"
          echo "â•‘      Admin                                                    â•‘"
          echo "â•‘                                                               â•‘"
          echo "â•‘  ğŸ”  Password                                                 â•‘"
          echo "â•‘      123456                                                   â•‘"
          echo "â•‘                                                               â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""

          echo "RDP_IP=$RDP_IP" >> $GITHUB_ENV
          echo "WEB_IP=$WEB_IP" >> $GITHUB_ENV

      - name: â° Maintaining Active Session
        run: |
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘              ğŸŸ¢ SESSION MAINTENANCE STARTED                   â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘  Instance       : #$INSTANCE                                   â•‘"
          echo "â•‘  Duration       : 6 hours (360 minutes)                       â•‘"
          echo "â•‘  Check Interval : Every 5 minutes                             â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
          echo "ğŸ’¡ Tip: Session details are hidden to keep logs clean."
          echo "    The connection remains active in background."
          echo ""

          for i in {1..72}; do
            ELAPSED=$((i * 5))
            REMAINING=$((360 - ELAPSED))

            # Chá»‰ hiá»‡n log má»—i 30 phÃºt (má»—i 6 láº§n loop)
            if [ $((i % 6)) -eq 0 ] || [ $i -eq 1 ] || [ $i -eq 72 ]; then
              echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
              echo "ğŸŸ¢ [$(date +'%H:%M:%S')] Instance #$INSTANCE - ACTIVE"
              echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
              echo "â±ï¸  Elapsed   : ${ELAPSED} min"
              echo "â³  Remaining : ${REMAINING} min"
              echo "ğŸ–¥ï¸  RDP       : $RDP_IP"
              echo "ğŸŒ  Web       : http://$WEB_IP"
              echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
              echo ""
            fi

            sleep 300
          done

          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘              â¹ï¸  SESSION ENDED                                â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘  Instance : #$INSTANCE                                         â•‘"
          echo "â•‘  Duration : 360 minutes completed                             â•‘"
          echo "â•‘  Status   : Connection closed                                 â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
